-- Создаем таблицу Сотрудников (Мастеров)
CREATE TABLE Employees (
    EmployeeID INT PRIMARY KEY IDENTITY(1,1),
    FirstName NVARCHAR(50) NOT NULL,
    LastName NVARCHAR(50) NOT NULL,
    Position NVARCHAR(50), -- Должность (Парикмахер, Нейл-стилист и т.д.)
    Phone NVARCHAR(20)
);

--  Создаем таблицу Услуг (Прайс-лист)
CREATE TABLE Services (
    ServiceID INT PRIMARY KEY IDENTITY(1,1),
    ServiceName NVARCHAR(100) NOT NULL,
    Description NVARCHAR(255),
    Price MONEY NOT NULL, -- Тип данных для денег
    DurationMinutes INT -- Длительность в минутах
);

--  Создаем таблицу Клиентов (Главная таблица учета)
CREATE TABLE Clients (
    ClientID INT PRIMARY KEY IDENTITY(1,1),
    FirstName NVARCHAR(50) NOT NULL,
    LastName NVARCHAR(50) NOT NULL,
    Phone NVARCHAR(20) NOT NULL,
    Email NVARCHAR(100),
    Gender NVARCHAR(10), -- 'Male' или 'Female'
    DateOfBirth DATE,
    RegistrationDate DATETIME DEFAULT GETDATE()
);

--  Создаем таблицу Записей (Связывает все таблицы)
CREATE TABLE Appointments (
    AppointmentID INT PRIMARY KEY IDENTITY(1,1),
    ClientID INT NOT NULL,
    EmployeeID INT NOT NULL,
    ServiceID INT NOT NULL,
    AppointmentDate DATETIME NOT NULL,
    Status NVARCHAR(20) DEFAULT 'Completed', -- Завершен, Отменен, Запланирован
    
    -- Создаем связи (Foreign Keys)
    CONSTRAINT FK_Appointments_Clients FOREIGN KEY (ClientID) REFERENCES Clients(ClientID),
    CONSTRAINT FK_Appointments_Employees FOREIGN KEY (EmployeeID) REFERENCES Employees(EmployeeID),
    CONSTRAINT FK_Appointments_Services FOREIGN KEY (ServiceID) REFERENCES Services(ServiceID)
);
GO

-- =============================================
-- ЗАПОЛНЕНИЕ ДАННЫМИ (INSERT)
-- =============================================

-- Добавляем Сотрудников (Мастеров)
INSERT INTO Employees (FirstName, LastName, Position, Phone) VALUES
(N'Айжан', N'Сейтжанова', N'Парикмахер-стилист', N'+77011112233'),
(N'Гульназ', N'Омарова', N'Мастер маникюра', N'+77023334455'),
(N'Марат', N'Жусупов', N'Массажист', N'+77056667788'),
(N'Динара', N'Алиева', N'Косметолог', N'+77778889900'),
(N'Кайрат', N'Нургалиев', N'Барбер', N'+77089990011');

-- Добавляем Услуги
INSERT INTO Services (ServiceName, Price, DurationMinutes) VALUES
(N'Мужская стрижка', 3500, 45),
(N'Женская стрижка', 6000, 60),
(N'Маникюр (Гель-лак)', 5000, 90),
(N'Педикюр', 7000, 90),
(N'Чистка лица', 12000, 120),
(N'Массаж спины', 8000, 60),
(N'Окрашивание волос', 15000, 180),
(N'Коррекция бровей', 2000, 30);

-- Добавляем 50 Клиентов (Казахские имена и фамилии)
INSERT INTO Clients (FirstName, LastName, Phone, Gender, DateOfBirth) VALUES
(N'Армани', N'Оспанов', N'+77010000001', N'Male', '1990-05-12'),
(N'Айгерим', N'Болатова', N'+77010000002', N'Female', '1995-03-22'),
(N'Серик', N'Ахметов', N'+77010000003', N'Male', '1988-11-15'),
(N'Алия', N'Нургалиева', N'+77010000004', N'Female', '1999-07-08'),
(N'Данияр', N'Искаков', N'+77010000005', N'Male', '1992-01-30'),
(N'Жанар', N'Сагиева', N'+77010000006', N'Female', '1985-09-14'),
(N'Кайсар', N'Ержанов', N'+77010000007', N'Male', '2000-12-05'),
(N'Мадина', N'Тусупова', N'+77010000008', N'Female', '1997-04-18'),
(N'Руслан', N'Жумабаев', N'+77010000009', N'Male', '1991-06-25'),
(N'Гульнара', N'Асанова', N'+77010000010', N'Female', '1980-02-10'),
(N'Азамат', N'Сүлейменов', N'+77010000011', N'Male', '1994-08-11'),
(N'Бибигуль', N'Каримова', N'+77010000012', N'Female', '1996-10-01'),
(N'Ержан', N'Муратов', N'+77010000013', N'Male', '1989-03-03'),
(N'Салтанат', N'Бекенова', N'+77010000014', N'Female', '1993-05-20'),
(N'Олжас', N'Смаилов', N'+77010000015', N'Male', '1998-11-11'),
(N'Айсулу', N'Жандосова', N'+77010000016', N'Female', '2001-01-09'),
(N'Нурлан', N'Керимбаев', N'+77010000017', N'Male', '1987-07-17'),
(N'Дина', N'Сапарова', N'+77010000018', N'Female', '1990-12-12'),
(N'Бауыржан', N'Момышев', N'+77010000019', N'Male', '1983-04-22'),
(N'Асель', N'Тулегенова', N'+77010000020', N'Female', '1995-09-09'),
(N'Тимур', N'Байжанов', N'+77010000021', N'Male', '1992-06-06'),
(N'Зарина', N'Абдрахманова', N'+77010000022', N'Female', '1999-02-14'),
(N'Елдос', N'Сметов', N'+77010000023', N'Male', '1996-03-27'),
(N'Камила', N'Досмухамбетова', N'+77010000024', N'Female', '1998-08-30'),
(N'Берик', N'Утепов', N'+77010000025', N'Male', '1990-01-05'),
(N'Назгуль', N'Рахимова', N'+77010000026', N'Female', '1994-11-20'),
(N'Дархан', N'Сабитов', N'+77010000027', N'Male', '1993-07-03'),
(N'Айлин', N'Жунусова', N'+77010000028', N'Female', '2002-05-15'),
(N'Расул', N'Мирзаев', N'+77010000029', N'Male', '1991-09-29'),
(N'Меруерт', N'Касымова', N'+77010000030', N'Female', '1986-10-10'),
(N'Санжар', N'Алимов', N'+77010000031', N'Male', '1997-12-25'),
(N'Айка', N'Бейсенова', N'+77010000032', N'Female', '2000-02-02'),
(N'Мурат', N'Тлеуов', N'+77010000033', N'Male', '1989-08-08'),
(N'Лаура', N'Исаева', N'+77010000034', N'Female', '1995-04-14'),
(N'Адиль', N'Жакупов', N'+77010000035', N'Male', '1994-06-18'),
(N'Тогжан', N'Маликова', N'+77010000036', N'Female', '1996-03-08'),
(N'Куаныш', N'Сатпаев', N'+77010000037', N'Male', '1990-09-01'),
(N'Амина', N'Дулатова', N'+77010000038', N'Female', '1999-11-04'),
(N'Бекзат', N'Аманов', N'+77010000039', N'Male', '1993-01-20'),
(N'Индира', N'Елеусизова', N'+77010000040', N'Female', '1988-05-25'),
(N'Галым', N'Шарипов', N'+77010000041', N'Male', '1985-02-17'),
(N'Айганым', N'Батырова', N'+77010000042', N'Female', '2001-07-12'),
(N'Нурсултан', N'Назарбаев', N'+77010000043', N'Male', '1998-12-01'),
(N'Жулдыз', N'Кенжебаева', N'+77010000044', N'Female', '1995-10-15'),
(N'Амир', N'Темиров', N'+77010000045', N'Male', '1992-03-30'),
(N'Раушан', N'Иманова', N'+77010000046', N'Female', '1989-06-22'),
(N'Ерлан', N'Кожабергенов', N'+77010000047', N'Male', '1991-08-05'),
(N'Сауле', N'Бектурганова', N'+77010000048', N'Female', '1984-11-19'),
(N'Даулет', N'Турсынов', N'+77010000049', N'Male', '1990-04-09'),
(N'Карлыгаш', N'Ахметова', N'+77010000050', N'Female', '1997-02-27');

-- Добавляем Записи (Appointments) - связываем клиентов, услуги и мастеров
-- Просто пример данных, чтобы таблицы не были пустыми
INSERT INTO Appointments (ClientID, EmployeeID, ServiceID, AppointmentDate, Status) VALUES
(1, 1, 2, '2023-10-01 10:00:00', 'Completed'),
(2, 2, 3, '2023-10-01 11:30:00', 'Completed'),
(3, 5, 1, '2023-10-01 12:00:00', 'Completed'),
(4, 3, 6, '2023-10-01 14:00:00', 'Completed'),
(5, 1, 7, '2023-10-02 09:00:00', 'Completed'),
(6, 4, 5, '2023-10-02 11:00:00', 'Completed'),
(7, 5, 1, '2023-10-02 13:00:00', 'Cancelled'),
(8, 2, 4, '2023-10-02 15:00:00', 'Completed'),
(9, 1, 2, '2023-10-03 10:00:00', 'Completed'),
(10, 3, 6, '2023-10-03 16:00:00', 'Scheduled'),
(11, 4, 5, '2023-10-04 10:00:00', 'Scheduled'),
(12, 2, 3, '2023-10-04 12:00:00', 'Scheduled'),
(15, 5, 1, '2023-10-04 14:30:00', 'Scheduled'),
(20, 1, 8, '2023-10-05 09:00:00', 'Scheduled'),
(25, 2, 3, '2023-10-05 11:00:00', 'Scheduled');
GO